# ~~ Generated by projen. To modify, edit .projenrc.js and run "npx projen".

name: CdkBranch
on:
  push:
    branches:
      - master
  workflow_dispatch: {}
jobs:
  push:
    runs-on: ubuntu-latest
    env:
      CI: "true"
      RELEASE: "true"
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
          fetch-depth: 0
      - name: Fetch CDK versions
        run: |-
          echo "CDK_VERSION=$(curl --silent "https://api.github.com/repos/aws/aws-cdk/releases/latest" |
          grep '"tag_name":' |
          sed -E 's/.*"([^"]+)".*/\1/')" >> $GITHUB_ENV
      - name: Push branch
        run: |- 
          git checkout -b bump/$CDK_VERSION
          git push -u origin bump/$CDK_VERSION